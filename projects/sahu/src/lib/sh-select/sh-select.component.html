<div class="sh-select" [class.open]="dropdownOpen">
  <div class="sh-select-overlay" (click)="closeDropdown()"></div>

  <div class="field-validation">
    <div class="sh-select-selection" (click)="toggleDropdown()">
      <input
        type="text"
        class="input-hidden"
        [(ngModel)]="selectedOptions"
        [attr.data-vali]="shDataVali ? shDataVali : null">
      <span *ngIf="!shMultiple">{{ selectedOptions[0] ? selectedOptions[0].label : shPlaceHolder }}</span>
      <span *ngIf="shMultiple" class="tags">
        <span *ngFor="let option of selectedOptions" class="tag">
          {{ option.label }}<i class="remove-tag" (click)="removeTag(option, $event)">Ã—</i>
        </span>
      </span>
      <span *ngIf="shMultiple">{{ shPlaceHolder }}</span>
      <i class="dropdown-icon"></i>
    </div>
  </div>

  <div class="sh-select-dropdown" *ngIf="dropdownOpen">
    <input *ngIf="shShowSearch" [placeholder]="shSearchPlaceHolder" />
    <ng-container *ngIf="(_sData | json) != ({} | json)">
      <div class="option-group" *ngFor="let group of _sData | keyvalue">
        <span>{{ group.key }}</span>
        <div class="option-group">
          <div *ngFor="let option of group.value" class="sh-select-option">
            <label>
              <input type="{{ shMultiple ? 'checkbox' : 'radio' }}" value="{{option.value}}" (click)="selectOption(option, $event)" />
              <span class="text">{{ option.label }}</span>
              <span class="remark"></span>
            </label>
          </div>
        </div>
      </div>
    </ng-container>

    <ng-container *ngIf="(_sData | json) == ({} | json)">
      <div *ngFor="let option of shData" class="sh-select-option">
        <label>
          <input type="{{ shMultiple ? 'checkbox' : 'radio' }}" value="{{option.value}}" (click)="selectOption(option, $event)" />
          <span class="text">{{ option.label }}</span>
          <span class="remark"></span>
        </label>
      </div>
    </ng-container>
  </div>
</div>